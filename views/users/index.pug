extends ../shared/common
block content 
  h1 
    span.ms-5 Users 
    a.btn.btn-primary(href="/users/create") New 

  .d-flex.align-items-center
    form.d-flex.ms-auto(action="/users/search", method="GET")
      input.form-control(type="text", name="q")
      button.btn.btn-primary.ms-2 Search

  table.table 
    tr 
      th Avatar 
      th First Name 
      th Last Name 
      th Email 
      th Phone
      th Action
    each user in users
      tr 
        td 
          img(src=user.avatar, width="32") 
        td=user.first_name 
        td=user.last_name 
        td=user.email 
        td=user.phone
        td
          a.btn.btn-primary(href="/users/"+ user.id) View

  nav.mt-5 
    ul.pagination 
      li.page-item(class= (page === 1) ? "disabled" : "")
        a.page-link(href='/users/?page='+ page +'&action=prev') Previous
      - var n = 1;
        while n < size
          li.page-item(class = (n === page) ? 'active' : '')
            a.page-link(href="/users/?page="+ n)= n
            - n++


      li.page-item(class= (page === size-1) ? "disabled" : "")
        a.page-link(href='/users/?page='+ page +'&action=next') Next 

 

  
